<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Core Ball</title>
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <canvas style="display: none;" id="stage"></canvas>
    <div id="begin">
      <section class="center-box">
        <span class="title">Core Ball</span>
        <div class="button">
          <div id="txtAr">â–¶</div>
          <div class="text"></div>
        </div>
        <div class="op">
          <span id="btnFW"></span>
          <span id="btnReset"></span>
          <div id="tip"></div>
        </div>
      </section>
      <section id="wxArrow"></section>
    </div>
    <script type="text/javascript" src="index.js"></script>
    <script type="text/javascript">
      window.focus();
      document.addEventListener("keydown", function(event) {
        if (event.code === "Space") {
            event.preventDefault();
            
            const stage = document.querySelector("#stage");
            
            if (stage && getComputedStyle(stage).display === "none") {
                document.querySelector(".button")?.click();
            } else {
                const x = window.innerWidth / 2;
                const y = window.innerHeight / 2;
                
                const clickEvent = new MouseEvent("mousedown", {
                    bubbles: true,
                    cancelable: true,
                    view: window,
                    clientX: x,
                    clientY: y
                });
                
                stage?.dispatchEvent(clickEvent);
            }
        }
    });
    </script>
      <script>
          window.focus();
          const konami = {
              code: ["arrowup", "arrowdown", "shift", "shift"],
              time: 300,
              func: () => {
                  const level = prompt("Enter new level:");
                  if (parseInt(level)) {
                    localStorage.setItem("core-ball-level", level);
                    location.reload();
                  }
              }
          }
      </script>
      <script src="../../assets/js/konami.js"></script>
  </body>
</html>
